<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Secure Dashboard</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI}

body{
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:#fff;
min-height:100vh;
transition:.4s;
}

body.light{
background:#f4f4f4;
color:#111;
}

header{
display:flex;
justify-content:space-between;
align-items:center;
padding:15px 20px;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(10px);
}

.menu{
display:flex;
gap:10px;
flex-wrap:wrap;
}

.menu button{
display:flex;
align-items:center;
gap:6px;
padding:8px 14px;
border:none;
border-radius:8px;
cursor:pointer;
background:rgba(255,255,255,0.1);
color:white;
transition:.3s;
}

body.light .menu button{
background:#ddd;
color:#111;
}

.menu button:hover{
background:#00c6ff;
}

.menu button.active{
background:#00c6ff;
}

svg{
width:16px;
height:16px;
}

.section{
padding:40px;
text-align:center;
}

iframe{
width:100%;
height:80vh;
border:none;
display:none;
}

#passwordModal{
position:fixed;
inset:0;
background:rgba(0,0,0,0.7);
display:none;
justify-content:center;
align-items:center;
}

#passwordModal.active{
display:flex;
}

.modal-box{
background:white;
color:black;
padding:30px;
border-radius:10px;
text-align:center;
width:300px;
}

.modal-box input{
width:100%;
padding:8px;
margin-top:10px;
}

.modal-box button{
margin-top:10px;
padding:8px 12px;
cursor:pointer;
}

#errorMsg{
color:red;
display:none;
margin-top:10px;
}

.clock{
font-size:20px;
margin-top:10px;
}

.theme-btn{
cursor:pointer;
padding:6px 10px;
border-radius:6px;
background:#00c6ff;
border:none;
}

</style>
</head>

<body>

<header>
<div class="menu">
<button id="btnDashboard" onclick="showDashboard()" class="active">
<svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
Dashboard
</button>

<button id="btnPhotos" onclick="requestAccess('photos')">
<svg viewBox="0 0 24 24" fill="currentColor"><path d="M21 19V5H3v14h18zM8.5 13.5l2.5 3 3.5-4.5L19 19H5l3.5-5.5z"/></svg>
Photos
</button>

<button id="btnVideos" onclick="requestAccess('videos')">
<svg viewBox="0 0 24 24" fill="currentColor"><path d="M17 10.5V6c0-1.1-.9-2-2-2H5C3.9 4 3 4.9 3 6v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2v-4.5l4 4v-11l-4 4z"/></svg>
Videos
</button>

<button id="btnOther" onclick="requestAccess('other')">
<svg viewBox="0 0 24 24" fill="currentColor"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></svg>
Other
</button>

<button id="btnMadrasah" onclick="requestAccess('madrasah')">
<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L1 7l11 5 9-4.09V17h2V7L12 2z"/></svg>
Madrasah
</button>
</div>

<button class="theme-btn" onclick="toggleTheme()">Toggle</button>
</header>

<div id="dashboardSection" class="section">
<h1>Secure Dashboard</h1>
<p>Welcome to your protected system.</p>
<div class="clock" id="liveClock"></div>
</div>

<iframe id="driveIframe"></iframe>

<div id="passwordModal">
<div class="modal-box">
<h3>Enter Password</h3>
<input type="password" id="passwordInput">
<button onclick="verifyPassword()">Submit</button>
<div id="errorMsg">Wrong Password</div>
</div>
</div>

<script>

const folders={
photos:'1Td0P4syxyk7khNQlTiWFraBr-WcYhjk',
videos:'1Bkb60c7PLUTurVl0FoU2zq3GqxP2lHpI',
other:'1oCWcDaL2TbCPYbiqxvhYrjTjopssgX8U',
madrasah:'1T_xsdXiREw7Lo15fXEpnIQUuIGUbjFwM'
};

let selectedFolder=null;
let wrongAttempts=0;
let locked=false;

/* Live Clock */
function updateClock(){
const now=new Date();
let h=now.getHours()%12||12;
let m=now.getMinutes().toString().padStart(2,'0');
let s=now.getSeconds().toString().padStart(2,'0');
document.getElementById("liveClock").innerText=`${h}:${m}:${s}`;
}
setInterval(updateClock,1000);
updateClock();

/* Dynamic Password */
function generatePassword(){
const now=new Date();
let h=now.getHours()%12||12;
let m=now.getMinutes();
return `${h}${m}`;
}

/* Menu */
function resetActive(){
document.querySelectorAll('.menu button')
.forEach(btn=>btn.classList.remove('active'));
}

function showDashboard(){
if(locked)return;
resetActive();
document.getElementById('btnDashboard').classList.add('active');
document.getElementById('dashboardSection').style.display="block";
document.getElementById('driveIframe').style.display="none";
}

function requestAccess(folder){
if(locked)return;
selectedFolder=folder;
document.getElementById('passwordModal').classList.add('active');
document.getElementById('passwordInput').value="";
document.getElementById('errorMsg').style.display="none";
}

function verifyPassword(){
if(locked)return;

const input=document.getElementById('passwordInput').value;
const realPassword=generatePassword();

if(input===realPassword){
wrongAttempts=0;
document.getElementById('passwordModal').classList.remove('active');
openFolder(selectedFolder);
}else{
wrongAttempts++;
document.getElementById('errorMsg').style.display="block";

if(wrongAttempts>=3){
locked=true;
alert("System Locked");
setTimeout(()=>{
locked=false;
wrongAttempts=0;
},60000);
}
}
}

function openFolder(folder){
resetActive();
document.getElementById('btn'+folder.charAt(0).toUpperCase()+folder.slice(1))
.classList.add('active');

document.getElementById('dashboardSection').style.display="none";

const iframe=document.getElementById('driveIframe');
iframe.style.display="block";
iframe.src=`https://drive.google.com/embeddedfolderview?id=${folders[folder]}#grid`;
}

/* Theme */
function toggleTheme(){
document.body.classList.toggle("light");
}

</script>

</body>
</html>
